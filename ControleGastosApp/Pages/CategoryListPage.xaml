<?xml version="1.0" encoding="utf-8" ?>
<base:BasePage
    x:Class="ControleGastosApp.Pages.CategoryListPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:base="clr-namespace:ControleGastosApp.Pages.Base"
    xmlns:enum="clr-namespace:ControleGastos.Core.Domain.Enums;assembly=ControleGastos.Core"
    xmlns:mct="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:vm="clr-namespace:ControleGastosApp.ViewModels"
    Title=""
    x:DataType="vm:CategoryListPageViewModel">
    <ScrollView>
        <Grid RowDefinitions="Auto, Auto, *" RowSpacing="20">
            <Grid Padding="22,30" ColumnDefinitions="Auto, *">
                <Image
                    HorizontalOptions="Start"
                    Source="fi_arrow_left.png"
                    VerticalOptions="Center"
                    WidthRequest="26">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding TapToBackCommand}" />
                    </Image.GestureRecognizers>
                </Image>

                <Label
                    Grid.ColumnSpan="2"
                    Style="{StaticResource TitlePage}"
                    Text="Categorias" />
            </Grid>
            <Border
                Grid.Row="1"
                Padding="0"
                Background="{StaticResource White}"
                HorizontalOptions="Center"
                Style="{StaticResource BorderPickerStyle}">
                <HorizontalStackLayout Spacing="0">
                    <Border x:Name="ExpenseBorder" Style="{StaticResource BorderRoundOptionsEnumStyle}">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding SelectedOperationCommand}" CommandParameter="{x:Static enum:OperationType.Expense}" />
                        </Border.GestureRecognizers>
                        <Border.Triggers>
                            <DataTrigger
                                Binding="{Binding SelectedOperation}"
                                TargetType="Border"
                                Value="{x:Static enum:OperationType.Expense}">
                                <Setter Property="Background" Value="{StaticResource LightGreen}" />
                            </DataTrigger>
                        </Border.Triggers>
                        <Label
                            Style="{StaticResource OptionsEnum}"
                            Text="Despesa"
                            TextColor="{StaticResource ActionRed}" />
                    </Border>
                    <Border x:Name="IncomeBorder" Style="{StaticResource BorderRoundOptionsEnumStyle}">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding SelectedOperationCommand}" CommandParameter="{x:Static enum:OperationType.Income}" />
                        </Border.GestureRecognizers>
                        <Border.Triggers>
                            <DataTrigger
                                Binding="{Binding SelectedOperation}"
                                TargetType="Border"
                                Value="{x:Static enum:OperationType.Income}">
                                <Setter Property="Background" Value="{StaticResource LightGreen}" />
                            </DataTrigger>
                        </Border.Triggers>

                        <Label
                            Style="{StaticResource OptionsEnum}"
                            Text="Receita"
                            TextColor="{StaticResource DarkGreen}" />
                    </Border>
                </HorizontalStackLayout>
            </Border>
            <Border
                Grid.Row="2"
                Background="{StaticResource AdjacentGreen}"
                Style="{StaticResource BorderRoundCardStyle}">
                <Grid>
                    <CollectionView>
                        <CollectionView.EmptyViewTemplate>
                            <DataTemplate>
                                <Label
                                    HorizontalTextAlignment="Center"
                                    Text="Nenhuma categoria cadastrada"
                                    TextColor="{StaticResource White}"
                                    VerticalTextAlignment="Center" />
                            </DataTemplate>
                        </CollectionView.EmptyViewTemplate>
                    </CollectionView>

                    <Border
                        Margin="0,0,22,30"
                        Background="{StaticResource White}"
                        HeightRequest="83"
                        HorizontalOptions="End"
                        StrokeShape="RoundRectangle 41.5"
                        VerticalOptions="End"
                        WidthRequest="83">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding TapGoToRegisterCategoryCommand}" />
                        </Border.GestureRecognizers>
                        <Image Source="fi_plus_circle.png" WidthRequest="75" />
                    </Border>
                </Grid>
            </Border>
        </Grid>
    </ScrollView>
</base:BasePage>